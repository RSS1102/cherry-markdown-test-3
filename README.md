# 自动化版本发布流程规范

## 流程步骤

0. ​**​凭证配置​**​  
   使用用户指定的 TOKEN 完成系统鉴权

1. ​**​主分支监控​**​  
   监听 main 分支的代码推送（push）事件

2. ​**​依赖安装​**​  
   执行 yarn 命令安装项目依赖

3. ​**​版本生成​**​  
   运行 yarn changeset-version 命令，消费 .changeset 文件创建新版本

4. ​**​版本标记​**​  
   运行 yarn changeset tag 命令，完成版本标签创建及 release 操作

5. ​**​分支创建​**​  
   建立 changeset-release/main 分支（自动处理分支名冲突）

6. ​**​变更提交​**​  
   向 main 分支发起 Pull Request（仅创建 PR 不执行合并）

7. ​**​版本信息展示​**​  
   在 PR 正文中完整展示本次版本更新内容

8. ​**​信息同步机制​**​  
   当 changeset-release/main 分支产生新推送时，自动更新对应 PR 正文

9. ​**​异常检测规则​**​  
   当监测到最新推送包含版本标签时，直接输出已发布版本信息并跳过常规流程